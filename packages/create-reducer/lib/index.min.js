!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(e["spider-operations"]={})}(this,function(e){"use strict";var r=function(){return(r=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e}).apply(this,arguments)};var t=Object.assign,n=Object.create,i=Object.keys;e.createReducer=function(e,r,u){var o,a,c="string"==typeof e?e:e.name,f=function(e,t){void 0===e&&(e=r);var n=v[t.type];if(!n)return e;var i=u[n];return i?i.apply(void 0,function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var n=Array(e),i=0;for(r=0;r<t;r++)for(var u=arguments[r],o=0,a=u.length;o<a;o++,i++)n[i]=u[o];return n}([e],t.payload)):e},l=[f];"function"==typeof e?o=e:(a=e,o=function(e){return"@"+a+"/"+e});for(var v={},s={},d=Object.create(null,{reducers:{value:l}}),p=function(e){v[o(e)]=e,s[e]=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return t(n(d),{type:o(e),payload:r})}},y=0,b=i(u);y<b.length;y++)p(b[y]);return Object.defineProperties(f,{name:{value:c,enumerable:!1},actions:{value:s,enumerable:!1}}),f},e.settable=function(){return{set:function(e,r){return r}}},e.entityTable=function(e){return{add:function(t,n){var i,u,o=e(n),a=t[o];if(a){var c=a.lock,f=a.entity;return r(r({},t),((i={})[o]={lock:c+1,entity:f},i))}return r(r({},t),((u={})[o]={lock:1,entity:n},u))},remove:function(t,n){var i,u=e(n),o=t[u];if(o){var a=o.lock,c=o.entity;if(1==a){var f=r({},t);return delete f[u],f}return r(r({},t),((i={})[u]={lock:a-1,entity:c},i))}return t},delete:function(e,t){var n,i=e[t];if(i){var u=i.lock,o=i.entity;if(1==u){var a=r({},e);return delete a[t],a}return r(r({},e),((n={})[t]={lock:u-1,entity:o},n))}return e},update:function(t,n){var i,u=e(n),o=t[u];if(o){var a=o.lock;return r(r({},t),((i={})[u]={lock:a,entity:n},i))}return t}}},e.arraylike=function(){return{add:function(e,r){var t=e.slice();return t.push(r),t},delete:function(e,r){var t=e.length;if(t<=r||r<-t)return e;var n=e.slice();return n.splice((r+t)%t,1),n},remove:function(e,r){var t=e.indexOf(r);if(t<0)return e;var n=e.slice();return n.splice(t,1),n},update:function(e,r,t){var n=e.length;if(n<=r||r<-n)return e;var i=e.slice();return i[(r+n)%n]=t,i}}},Object.defineProperty(e,"__esModule",{value:!0})});
